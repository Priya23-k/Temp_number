<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Temp Number Navbar</title>
  <link rel="icon" href="/image/logo.png" type="image/png">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css">
  <link rel="stylesheet" href="/css/styles.css">
  <link rel="stylesheet" href="/css/try_now.css">
</head>

<body>
  <div id="navbar-placeholder" style="position: sticky; top: 0;"></div>
    <div class="outer-container py-3 m-4">
        <!-- Step 1: Service Section -->
        <div id="step1" class="step-container container p-2">
            <h2 class="step-title">Service</h2>
            <p class="text-center">Please choose a service</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: 33%;" aria-valuenow="33"></div>
            </div>
            <div class="form-group mt-3">
                <input id="searchService" type="text" class="form-control" placeholder="Search for a service" oninput="filterServices()">
            </div>
            <div class="mt-3">
                <div id="serviceList" class="list-group p-2" style="max-height: 180px; overflow-y: auto;">
                    <!-- Service list will be dynamically inserted here -->
                </div>
            </div>
            <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-outline-secondary">Cancel</button>
                <button class="btn btn-orange" onclick="showStep('country')">Continue &rarr;</button>
            </div>
        </div>

        <!-- Step 2: Country Section -->
        <div id="step2" class="step-container container p-2">
            <h2 class="step-title">Country</h2>
            <p class="text-center">Please choose a country</p>
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: 33%;" aria-valuenow="33"></div>
            </div>
            <div class="form-group mt-3">
                <input id="searchCountry" type="text" class="form-control" placeholder="Search for a country" oninput="filterCountries()">
            </div>
            <div class="mt-3">
                <div id="countryList" class="list-group p-2" style="max-height: 180px; overflow-y: auto;">
                    <!-- Country list will be dynamically inserted here -->
                </div>
            </div>
            <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-outline-secondary" onclick="showStep('service')">&larr; Back</button>
                <button class="btn btn-orange" onclick="showStep(3)">Continue &rarr;</button>
            </div>
        </div>

        <!-- Step 3: Confirm Selection -->
        <div id="step3" class="step-container container" style="display: none;">
            <h2 class="step-title">Confirm Selection</h2>
            <p class="text-center">Review your choices before proceeding</p>
            
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: 100%;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
        
            <div class="mt-3">
                <p><strong>Selected Service:</strong> <span id="confirmSelectedService">None</span></p>
                <p><strong>Selected Country:</strong> <span id="confirmSelectedCountry">None</span></p>
                <p><strong>Price:</strong> <span id="confirmSelectedPrice">$0.00</span></p>
            </div>
        
            <div class="d-flex justify-content-between mt-4">
                <button class="btn btn-outline-secondary" onclick="showStep('country')">&larr; Back</button>
                <button class="btn btn-orange" onclick="checkLoginAndProceed()">Proceed to Payment</button>
            </div>
        </div>
      
      <div id="step4" class="step-container container" style="display: none;">
          <div id="try_country"></div> 
          <button id="generateNumberBtn" class="btn btn-primary mt-4" onclick="generatePhoneNumber()">Get Number</button>
          <!-- <div id="generatedNumber" class="mt-4"></div> -->
          <div id="generatedNumber" class="alert alert-success"></div>
          <div class="d-flex justify-content-between mt-4">
              <button class="btn btn-outline-secondary" onclick="showStep(3)">&larr; Back</button>
              <button class="btn btn-orange">Finish</button>
          </div>
      </div>
    </div>
  </div>
  <!-- dropdown value fecth from index -->
  <!-- <script>
    function getQueryParam(param) {
     const urlParams = new URLSearchParams(window.location.search);
     return urlParams.get(param);
     }
     window.onload = function () {
     // Retrieve values from URL parameters or sessionStorage
     let selectedService = getQueryParam("service") || sessionStorage.getItem("selectedService") || "N/A";
     let selectedCountry = getQueryParam("country") || sessionStorage.getItem("selectedCountry") || "N/A";
     let selectedPrice = getQueryParam("price") || sessionStorage.getItem("selectedPrice") || "N/A";
 
     // Update Step 3 content
     document.getElementById("selectedService").textContent = selectedService;
     document.getElementById("selectedCountry").textContent = selectedCountry;
     document.getElementById("selectedPrice").textContent = `$${selectedPrice}`;
 
     console.log("âœ… Step 3 loaded with selected values:", selectedService, selectedCountry, selectedPrice);
 
     // Automatically move to Step 3 if redirected
     const step = getQueryParam("step");
     if (step === "3") {
         showStep(3);
     }
 };
    </script> -->

  <script src="/js/script.js"></script> 
  <!-- <script src="/js/service.js"></script> -->
  <script src="/js/try_now.js"></script>
  <!-- <script src="/js/country.js"></script> -->

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>